<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.macademy.shop.main.mapper.MainMapper">
    <select id="mainItemSelect" parameterType="map" resultType="mainItemDto">

            SELECT  i.item_id, item_name, price, item_detail, item_url
            FROM    item i JOIN item_img i_img ON i.item_id = i_img.item_id
            WHERE   i_img.rep_img_yn='Y'
                    <include refid="com.macademy.shop.mapper.commonSql.itemSearchConditions"></include>
            ORDER BY i.item_id DESC
            LIMIT #{pageSize} OFFSET #{offset}

    </select>
</mapper>